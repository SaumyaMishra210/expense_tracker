<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Expense Tracker{% endblock %}</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Optional: Include a custom theme color for the page -->
    <style>
        /* General Theme Styles */
        body {
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Light Theme */
        .theme-light {
            background-color: #f8f9fa;
            color: #212529;
        }
        .theme-light .card, .theme-light .btn {
            background-color: #ffffff;
            color: #212529;
            border: 1px solid #ddd;
        }

        /* Dark Theme */
        .theme-dark {
            background-color: #343a40;
            color: #ffffff;
        }
        .theme-dark .card, .theme-dark .btn {
            background-color: #495057;
            color: #ffffff;
            border: 1px solid #6c757d;
        }

        /* Primary Theme */
        .theme-primary {
            background-color: #1e8e8e;
            color: white;
        }
        .theme-primary .card, .theme-primary .btn {
            background-color: #1c7c7c;
            color: white;
            border: 1px solid #118e8e;
        }

        /* Additional Styling for the Main Content */
        .theme-light .container, .theme-dark .container, .theme-primary .container {
            transition: color 0.3s ease;
        }
    </style>
</head>
<body class="theme-light">
    <!-- Header Section -->
    <header>
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="h3">Expense Tracker</h1>
                <nav class="ms-auto">
                    <a href="{{ url_for('index') }}" class="me-3">Home</a>
                    <a href="{{ url_for('add_expenses') }}" class="me-3">Add Expense</a>
                    <a href="{{ url_for('visualize') }}">Visualize</a>

                    <!-- Theme Color Switcher -->
                    <select id="theme-switcher" class="form-select form-select-sm ms-3">
                        <option value="theme-light">Light Theme</option>
                        <option value="theme-dark">Dark Theme</option>
                        <option value="theme-primary">Primary Theme</option>
                    </select>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content Section -->
    <main>
        <div class="container py-5">
            {% block content %}
            <!-- Page-specific content will go here -->
            {% endblock %}
        </div>
    </main>

    <!-- Footer Section -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Expense Tracker App. All rights reserved.</p>
            <div class="social-links">
                <a href="#" class="fab fa-facebook"></a>
                <a href="#" class="fab fa-twitter"></a>
                <a href="#" class="fab fa-linkedin"></a>
                <a href="#" class="fab fa-instagram"></a>
            </div>
        </div>
    </footer>

    <!-- Font Awesome for social icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript to change themes -->
    <script>
        const themeSwitcher = document.getElementById('theme-switcher');
        
        themeSwitcher.addEventListener('change', function() {
            document.body.classList.remove('theme-light', 'theme-dark', 'theme-primary');
            document.body.classList.add(themeSwitcher.value);
            localStorage.setItem('theme', themeSwitcher.value); // Save the theme in localStorage
        });

        // Load the saved theme from localStorage
        const savedTheme = localStorage.getItem('theme') || 'theme-light';
        document.body.classList.add(savedTheme);
        themeSwitcher.value = savedTheme;
    </script>
</body>
</html>
